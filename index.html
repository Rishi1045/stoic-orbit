<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="google-site-verification" content="kyR_Hc2H6rwO5OdiycAKZ7pswKSBPFHA9rzz_kZFniE" />
    
    <title>Stoic Orbit | Daily Philosophy & Wisdom</title>
    <meta name="description" content="A minimalist daily companion for Stoic wisdom. Receive one powerful quote from Marcus Aurelius, Seneca, and Epictetus every day.">
    <meta name="keywords" content="Stoic, Stoicism, Daily Quote, Philosophy, Mental Health, Minimalist">
    <meta name="author" content="Stoic Orbit">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#020204">
    
    <meta property="og:type" content="website">
    <meta property="og:title" content="Stoic Orbit">
    <meta property="og:description" content="Start your day with one focused Stoic thought.">
    <meta property="og:url" content="https://stoic-orbit.vercel.app/">

    <link rel="manifest" href="manifest.json">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Inter:wght@300;400&display=swap" rel="stylesheet">

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Stoic Orbit",
      "url": "https://stoic-orbit.vercel.app/",
      "description": "A minimalist platform for daily Stoic quotes and philosophy."
    }
    </script>

    <style>
        :root {
            --text-primary: #E6E6E6; 
            --text-secondary: #666666;
        }

        ::selection {
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
            text-shadow: 0 0 15px rgba(255,255,255,0.8);
        }

        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            -webkit-tap-highlight-color: transparent; 
        }

        body {
            background-color: #020204; 
            background-image: 
                radial-gradient(circle at 50% 0%, #1B2028 0%, transparent 70%),
                radial-gradient(circle at 50% 100%, #0f1115 0%, transparent 60%);
            
            height: 100dvh; 
            width: 100vw;
            /* Using relative positioning for absolute children */
            position: relative;
            overflow: hidden;
            font-family: 'Inter', sans-serif;
            perspective: 1200px;
            color: var(--text-primary);
        }

        /* --- BACKGROUND LAYERS --- */
        .noise {
            position: fixed;
            inset: 0;
            z-index: 1;
            opacity: 0.04;
            pointer-events: none;
            background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyBAMAAADsEZWCAAAAGFBMVEUAAAA5OTkAAABERERmZmYzMzOZmZlVVVUPQTY2AAAAH3RSTlMvMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzxnOAAACSNJREFUOI0l1k1v20YUB/C88sV+iUABW6S4GhD0Yr102kO32KMhCLJScGtMJ6F8iR5S0E1yCgKlhwRtDkWBQo8J8m/0kGP/Q/cydm0JtN+288y8/8w8884AwB91/X2/Wb8v2vW7Iv1+3V6/q9Y/1uv3Rbt+163fF/X6XbV+X9T/vK/W36r1+6J9+65a/1it3xft23fV+v/W6/dFu/5d1P+8r9bfa/33zfr9u2r9vli/L9bvi/X7Yv2+WL8v1u+L9ftirX+r1u+L9ftirX+s1u+L9ftirX+s1u+L9fti/b5Y6x+r9ftirX+s1u+L9fti/b5Y6x+r9fti/b5Y6x+r9fti/b5Y6x+r9fti/b5Y6x+r9fti/b5Yv1+363fV+n2x1j9W6/fFWv9Yrd8Xa/1jtX5frPWP1fp9sdY/Vuv3xVr/WK3fF2v9Y7V+X6z1j9X6fbHWP1br98Va/1it3xdr/WO1fl+s9Y/V+n2x1j9W6/fFWv9Yrd8Xa/1jtX5frPWP1fp9sdY/Vut31fp9sdY/Vuv3xVr/WK3fF2v9Y7V+X6z1j9X6fbHWP1br98Va/1it3xdr/WO1fl+s9Y/V+n2x1j9W6/fFWv9Yrd8Xa/1jtX5frPWP1fp9sdY/Vuv3xVr/WK3fF2v9Y7V+X6z1j9X6fbHWP1br98Va/1it3xdr/WO1fl+s9Y/V+n2x1j9W6/fFWv9Yrd8Xa/1jtX5frPWP1fp9sdY/Vuv3xVr/WK3fF2v9Y7V+X6z1j9X6fbHWP1br98Va/1it3xdr/WO1fl+s9Y/V+n2x1j9W6/fF+n2xfl+s3xfr98X6fbF+X6zfF+v3xfr9/wG78x4i9B/2sAAAAABJRU5ErkJggg==');
        }

        #particles-container {
            position: fixed;
            inset: -100px;
            z-index: 2;
            pointer-events: none;
            transition: transform 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            will-change: transform;
        }
        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            opacity: 0;
            animation: float 30s linear infinite;
        }
        @keyframes float {
            0% { transform: translateY(100vh); opacity: 0; }
            100% { transform: translateY(-10vh); opacity: 0; }
        }

        /* --- MAIN STAGE --- */
        .tilt-wrapper {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10;
            
            display: flex;
            align-items: center;
            justify-content: center;
            padding-bottom: 20px;
            
            transform-style: preserve-3d;
            will-change: transform;
            /* Important: Transition must be fast for touch responsiveness */
            transition: transform 0.1s ease-out; 
        }

        .content-card {
            max-width: 950px;
            width: 90%; 
            text-align: center;
            padding: 20px;
            
            opacity: 0;
            transform: translateY(40px) scale(0.94);
            filter: blur(15px);
            transition: all 1.8s cubic-bezier(0.16, 1, 0.3, 1);
            will-change: transform, opacity, filter;
        }

        .content-card.visible {
            opacity: 1;
            transform: translateY(0) scale(1);
            filter: blur(0px);
        }

        h1#quote-text {
            font-family: 'DM Serif Display', serif;
            font-size: clamp(2rem, 5vw, 3.8rem);
            font-weight: 400;
            line-height: 1.2;
            color: var(--text-primary);
            margin-bottom: 30px; 
            background: linear-gradient(135deg, #ffffff 0%, #949aa3 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            cursor: pointer;
            transition: opacity 0.2s, transform 0.1s;
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.4));
        }
        
        h1#quote-text:hover { opacity: 0.7; }
        h1#quote-text:active { transform: scale(0.96); opacity: 0.6; }

        #quote-author {
            font-family: 'Inter', sans-serif;
            font-size: 0.75rem;
            letter-spacing: 6px;
            text-transform: uppercase;
            color: var(--text-secondary);
            transform: translateY(20px); 
            opacity: 0;
            transition: all 1s ease 0.4s;
        }

        .content-card.visible #quote-author {
            transform: translateY(0);
            opacity: 1;
        }

        /* --- FOOTER --- */
        .time-container {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px; 
            z-index: 20;
        }
        
        #time-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, transparent, #ffffff);
            box-shadow: 0 0 20px rgba(255,255,255,0.4);
            transition: width 1s linear;
        }

        /* --- TOAST --- */
        #toast {
            position: fixed;
            top: 40px;
            left: 50%;
            transform: translateX(-50%) translateY(-10px) scale(0.9);
            background: rgba(15, 20, 25, 0.95);
            backdrop-filter: blur(8px); 
            padding: 12px 24px;
            border-radius: 50px;
            border: 1px solid rgba(255,255,255,0.08);
            font-size: 0.75rem;
            letter-spacing: 1px;
            text-transform: uppercase;
            color: white;
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.19, 1, 0.22, 1);
            z-index: 100;
            pointer-events: none;
        }
        #toast.show { opacity: 1; transform: translateX(-50%) translateY(0) scale(1); }

        @media (max-width: 768px) {
            .content-card { padding: 10px; }
            #quote-author { font-size: 0.7rem; letter-spacing: 4px; }
            
            /* REMOVED THE "TRANSFORM: NONE" lines. Mobile animation is now enabled. */
        }
    </style>
</head>
<body>

    <div class="noise"></div>
    <div id="particles-container"></div>
    <div id="toast">Copied to clipboard</div>

    <div class="tilt-wrapper" id="tilt-card">
        <main class="content-card" id="card">
            <h1 id="quote-text" title="Tap to copy">Stoic Orbit. Daily Wisdom Loading...</h1>
            <div id="quote-author"></div>
        </main>
    </div>

    <div class="time-container">
        <div id="time-bar"></div>
    </div>

    <script src="quotes.js"></script>

    <script>
        window.onload = () => {
            createParticles();
            displayDailyQuote();
            updateTimeBar();
            setInterval(updateTimeBar, 60000); 
        };

        function displayDailyQuote() {
            if (typeof localQuotes === 'undefined') {
                document.getElementById('quote-text').innerText = "We suffer more often in imagination than in reality.";
                document.getElementById('quote-author').innerText = "— Seneca";
                document.getElementById('card').classList.add('visible');
                return;
            }

            const now = new Date();
            const dateString = now.toDateString();
            let hash = 0;
            for (let i = 0; i < dateString.length; i++) {
                hash = dateString.charCodeAt(i) + ((hash << 5) - hash);
            }
            hash = Math.abs(hash);
            const index = hash % localQuotes.length;
            const todayQuote = localQuotes[index];

            const textEl = document.getElementById('quote-text');
            const authorEl = document.getElementById('quote-author');
            
            textEl.innerText = `"${todayQuote.text}"`;
            authorEl.innerText = "— " + todayQuote.author;

            requestAnimationFrame(() => {
                setTimeout(() => {
                    document.getElementById('card').classList.add('visible');
                }, 150);
            });
        }

        // --- UNIFIED PHYSICS ENGINE (Mouse + Touch) ---
        let currentX = 0, currentY = 0;
        let ticking = false;

        // 1. Mouse Input
        document.addEventListener('mousemove', (e) => {
            requestTick(e.clientX, e.clientY);
        });

        // 2. Touch Input (Mobile)
        document.addEventListener('touchmove', (e) => {
            // e.touches[0] gets the first finger's position
            requestTick(e.touches[0].clientX, e.touches[0].clientY);
        }, { passive: true });

        // 3. Touch End (Reset to center when finger lifts)
        document.addEventListener('touchend', () => {
            const card = document.getElementById('tilt-card');
            const particles = document.getElementById('particles-container');
            
            // Smoothly reset
            card.style.transition = 'transform 0.5s ease-out';
            card.style.transform = 'rotateX(0deg) rotateY(0deg)';
            
            particles.style.transition = 'transform 0.5s ease-out';
            particles.style.transform = 'translate(0px, 0px)';
            
            // Restore fast transition for next touch
            setTimeout(() => {
                card.style.transition = 'transform 0.1s ease-out';
                particles.style.transition = 'transform 0.1s ease-out';
            }, 500);
        });

        function requestTick(x, y) {
            currentX = x;
            currentY = y;
            if (!ticking) {
                window.requestAnimationFrame(updatePhysics);
                ticking = true;
            }
        }

        function updatePhysics() {
            const centerX = window.innerWidth / 2;
            const centerY = window.innerHeight / 2;
            
            const card = document.getElementById('tilt-card');
            const particles = document.getElementById('particles-container');

            // Calculate rotation (Dampened for mobile so it's not too shaky)
            // On mobile, we allow slightly more tilt since screens are smaller
            const dampener = window.innerWidth < 768 ? 3 : 2; 
            
            const rotateY = ((currentX - centerX) / centerX) * dampener; 
            const rotateX = ((currentY - centerY) / centerY) * -dampener;
            
            card.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;

            // Parallax
            const moveX = ((currentX - centerX) / centerX) * -15;
            const moveY = ((currentY - centerY) / centerY) * -15;
            particles.style.transform = `translate(${moveX}px, ${moveY}px)`;

            ticking = false;
        }

        function updateTimeBar() {
            const now = new Date();
            const start = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 0, 0, 0);
            const end = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 23, 59, 59);
            const percentage = ((now - start) / (end - start)) * 100;
            document.getElementById('time-bar').style.width = percentage + "%";
        }

        function createParticles() {
            const container = document.getElementById('particles-container');
            const count = window.innerWidth < 768 ? 20 : 35; 
            
            for(let i=0; i<count; i++){
                const p = document.createElement('div');
                p.classList.add('particle');
                p.style.width = Math.random() * 2 + 'px';
                p.style.height = p.style.width;
                p.style.left = Math.random() * 100 + '%';
                p.style.setProperty('--opacity', Math.random() * 0.35 + 0.05);
                p.style.animationDelay = -Math.random() * 40 + 's'; 
                p.style.animationDuration = Math.random() * 30 + 30 + 's';
                container.appendChild(p);
            }
        }

        const quoteText = document.getElementById('quote-text');
        const handleCopy = async (e) => {
            e.preventDefault(); 
            const text = quoteText.innerText;
            const author = document.getElementById('quote-author').innerText;
            try {
                await navigator.clipboard.writeText(text + " " + author);
                const toast = document.getElementById('toast');
                toast.classList.add('show');
                setTimeout(() => toast.classList.remove('show'), 2500);
            } catch (err) {
                console.log("Clipboard API failed");
            }
        };
        quoteText.addEventListener('click', handleCopy);
        quoteText.addEventListener('touchstart', () => {}); 
    </script>
</body>
</html>
